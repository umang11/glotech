steal("jquery/class",function($){$.Class("CE.Tools",{myThis:null},{init:function(){CE.Tools.myThis=this},removeBlock:function(){CE.Selectable.setScrollY(window.scrollY);if(CE.Dialog.myThis.element.dialog("isOpen")){CE.Dialog.myThis.element.dialog("close")}parent.CE.Navbar.myThis.hideObjectControlBtns();var spanRemovable=$(".motopress-selected").closest('[class*="span"].motopress-span');var rowForSplitterCalc=spanRemovable.parents(".mp-row-fluid.motopress-row, .motopress-content-wrapper").eq(-2);var spanClassRemovable=parent.MP.Utils.getSpanClass(spanRemovable.prop("class").split(" "));var rowFrom=spanRemovable.parent(".mp-row-fluid.motopress-row");spanClassRemovable=CE.DragDrop.myThis.removeEmptyBlocks(spanRemovable,spanClassRemovable);if(spanRemovable.hasClass("ce_inline_editor")){var ctrl=spanRemovable.controller();var id=ctrl.child.attr("id");if(typeof id!=="undefined"){var editor=tinymce.get(id);if(typeof editor!=="undefined"){editor.destroy()}}}spanRemovable.remove();var resObj=CE.DragDrop.myThis.clearIfEmpty(rowFrom,"remove");var isUnwrapped=false;if(resObj&&resObj.hasOwnProperty("row")){isUnwrapped=true;rowFrom=resObj.row}if(CE.DragDrop.myThis.isEmptyScene()){$(".motopress-handle-middle-in").remove();CE.DragDrop.myThis.emptySceneHelper.show();CE.DragDrop.myThis.moreHandler.hide()}if(!isUnwrapped){CE.DragDrop.myThis.resize(rowFrom,spanRemovable,"remove")}CE.DragDrop.myThis.resizer.updateBottomInHandleMiddle();CE.Resizer.myThis.updateSplittableOptions(null,rowFrom,null);CE.Resizer.myThis.updateSplitterHeight(rowForSplitterCalc,"remove");CE.Resizer.myThis.updateHandle()}})});